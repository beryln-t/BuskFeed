<%- include('../partials/header') %>

<h2 class="custom-h2">Edit Event</h2>

<form action="/events/<%=id%>?_method=PUT" method="POST">

  <div class="mb-3">
    <label for="eventName" class="form-label">Event Name:</label>
    <input type="text" class="form-control" id="eventName" name="eventName" value="<%=event.eventName%>" />
  </div>

  <div class="mb-3">
    <label for="buskerName" class="form-label">Busker Name:</label>
    <select class="form-control" id="buskerName" name="buskerName" required>
      <%busker.sort((a, b) => a.buskerName.localeCompare(b.buskerName));%>
      <% busker.forEach(function(b) { %>
      <option value="<%= b._id%>"><%= b.buskerName %></option>

      <% }); %>
    </select>
  </div>

  <div class="mb-3">
    <label for="eventDate" class="form-label">Date:</label>
    <input type="date" class="form-control" id="eventDate" name="eventDate" value="<%= dayjs(event.eventDate).format('YYYY-MM-DD') %>" required min="<%= new Date().toISOString().slice(0, 10) %>" />
  </div>

  <div class="mb-3">
    <label for="location" class="form-label">Location:</label>
    <input type="text" class="form-control" id="location" name="location" value="<%=event.location%>" required />
  </div>

  <div class="mb-3">
    <label for="eventDescription" class="form-label">Event Description:</label>
    <textarea class="form-control" id="eventDescription" name="eventDescription" required><%=event.eventDescription%></textarea>
  </div>

  <button type="submit" class="btn btn-primary">Save</button>
  <button type="reset" class="btn btn-secondary">Cancel</button>
</form>

<%- include('../partials/footer') %>